-- extends 'trainers/base_trainer.yaml'
[trainer_meta_config]
    == super()
    -- set ns.trainer_name = "Huggingface Traice"
    -- set ns.trainer_description = "https://huggingface.co/docs/transformers/main_classes/trainer"
    -- set ns.nproc_per_node = "gpu"
    -- set ns.trainer_config_class = "transformers:TrainingArguments"
    -- set ns.trainer_class = "transformers:Trainer"

[trainer_dependencies]
    == super()
    [accelerator_config]
accelerator_config: &accelerator_config !dict
    dispatch_batches: False
    split_batches: False

[trainer_args]
    == super()
    # HF Trainer Defaults
    lr_scheduler_type: "constant"
    accelerator_config: *accelerator_config
    ddp_find_unused_parameters: False
    report_to: "none"
    logging_nan_inf_filter: False

[trainer_constructor]
    == super()
    # Disabled until bug is fixed.
    # optimizer_cls_and_kwargs: !tuple [ *optimizer, {} ]
