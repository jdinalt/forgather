-- extends 'projects/tiny.yaml'

[config_metadata]
    == super()
    -- set ns.create_new_model = False
    -- set ns.save_model = False
    -- set ns.model_name = "tiny_causal"

    ## Use a bigger model, to reduce impact of execution latency
    -- set ns.model_project_config = "117M.yaml"
    -- set ns.adam_lr = 5.0e-4
    -- set ns.adafactor_lr = 5.0e-4
    -- set ns.sgd_lr = 1.0e0
    -- set ns.apollo_lr = 5.0e-4

[trainer_args]
    == super()
    # project overrides
    logging_steps: 50
    eval_steps: 200
    default_dtype: bfloat16

[trainer_definition]
    -- include 'project.trainer_config'

[trainer_callbacks]
    -- include 'project.callbacks'

#-------------------- project.trainer_config --------------------
-- extends 'tiny.trainer_config'

#-------------------- project.callbacks --------------------
-- extends 'tiny.callbacks'

[callback_list]
    == super()
    text_gen_callback: null # Disable text gen