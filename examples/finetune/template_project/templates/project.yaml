-- extends 'projects/finetune.yaml'

-- block resource_directories
    == super()
    ## Change this to point to where your models are stored
    -- set ns.models_dir = joinpath(user_home_dir(), 'ai_assets', 'models')

    ## Directory in which local datasets are stored
    -- set ns.datasets_dir = joinpath(user_home_dir(), 'ai_assets', 'datasets')
<< endblock resource_directories

-- block config_metadata
    == super()
    ## Set ot name of model to train
    -- set ns.model_name = "my_model_name"

    ## Set these to the dataset project to use
    -- set ns.dataset_proj = dataset_proj | default(joinpath(ns.forgather_dir, 'examples', 'datasets', 'QuixiAI'))
    -- set ns.dataset_config = dataset_config | default("samantha.yaml")
-- endblock config_metadata


-- block trainer_definition
    -- include 'project.trainer_config'
-- endblock trainer_definition


#-------------------- project.trainer_config --------------------
-- extends 'finetune.trainer_config'

-- block trainer_args
    == super()
    # project overrides
    ## max_steps: 500
    ## per_device_train_batch_size: 32
    ## per_device_eval_batch_size: 64
    ## logging_steps: 100
    ## eval_steps: 500
    ## num_train_epochs: 1
-- endblock trainer_args
