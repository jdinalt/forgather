## Project level definitions and overrides go here.
-- extends "configs/train_script_config.yaml"

## Set Project level defaults
-- block experiment_metadata
    == super()
    -- set ns.EXPERIMENT_NAME = "Project Name"
    -- set ns.EXPERIMENT_DESCRIPTION = "An example configuration"
    -- set ns.CREATE_NEW_MODEL = True
    -- set ns.SAVE_MODEL = False
-- endblock experiment_metadata

## Define our base directories for the project.
-- block base_directories
    -- include 'directories.yaml'
-- endblock base_directories

## Override default model trainer implementation
## This file is split into multiple templates, with the
## included template being defined below.
-- block trainer_definition
    -- include 'project.trainer_config'
-- endblock trainer_definition



#--- project.trainer_config ---
## This is a seperate template

## Select one-of:
## trainers/( trainer.yaml | accel_trainer.yaml | hf_trainer.yaml )
-- extends 'trainers/trainer.yaml'

## Metadata Overrides
-- block trainer_meta_config
    == super()
    -- set trainer_def.name = "Custom " + trainer_def.name
-- endblock trainer_meta_config

## Trainer Args Overrides
-- block trainer_args
    == super()
    
    # Project Overrides
    per_device_train_batch_size: 64
    per_device_eval_batch_size: 64
    eval_steps: 100
    ## Stop afte 2000 steps
    max_steps: 2000
-- endblock trainer_args