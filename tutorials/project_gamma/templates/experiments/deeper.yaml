-- extends "project.yaml"

-- block config_vars
    == super()
    -- set ns.config_name = "Deeper Model"
    -- set ns.config_description = "Base configuration + more layers"
<< endblock config_vars


-- block model_main
.define: &model !singleton:torch.nn:Sequential@model
    - !factory:torch.nn:Flatten []
    - !factory:torch.nn:Linear [ {{ 28 * 28 }}, {{ ns.hidden_dim }} ]
    - *activation_fn
    - !factory:torch.nn:Linear [ {{ ns.hidden_dim }}, {{ ns.hidden_dim }} ]
    - *activation_fn
    - !factory:torch.nn:Linear [ {{ ns.hidden_dim }}, {{ ns.hidden_dim }} ]
    - *activation_fn
    - !factory:torch.nn:Linear [ {{ ns.hidden_dim }}, 10 ]
<< endblock model_main